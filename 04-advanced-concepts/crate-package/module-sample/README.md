# Rust æ¨¡å—ç³»ç»Ÿå…¨é¢å­¦ä¹ æŒ‡å—

> åŸºäº https://course.rs/basic/crate-module/module.html çš„æ·±åº¦åˆ†æ

## ğŸ“š é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®å…¨é¢æ·±å…¥åœ°åˆ†æ Rust æ¨¡å—ç³»ç»Ÿï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°é«˜çº§åº”ç”¨ï¼Œå¸®åŠ©å¼€å‘è€…æŒæ¡ Rust ä»£ç ç»„ç»‡å’Œæ¨¡å—åŒ–è®¾è®¡ã€‚

## ğŸ¯ å­¦ä¹ ç›®æ ‡

é€šè¿‡æœ¬æ•™ç¨‹ï¼Œä½ å°†å­¦ä¼šï¼š

- âœ… ç†è§£æ¨¡å—ç³»ç»Ÿçš„åŸºæœ¬æ¦‚å¿µ
- âœ… æŒæ¡æ¨¡å—çš„å®šä¹‰å’Œä½¿ç”¨
- âœ… å­¦ä¼šä½¿ç”¨ `pub` æ§åˆ¶å¯è§æ€§
- âœ… ç†è§£æ¨¡å—è·¯å¾„å’Œ `use` å…³é”®å­—
- âœ… æŒæ¡æ¨¡å—çš„ç»„ç»‡ç»“æ„
- âœ… å­¦ä¼šåœ¨å®é™…é¡¹ç›®ä¸­åº”ç”¨æ¨¡å—ç³»ç»Ÿ

## ğŸ“– æ ¸å¿ƒçŸ¥è¯†ç‚¹

### 1. æ¨¡å—åŸºç¡€

**æ¨¡å—å®šä¹‰ï¼š**
```rust
mod my_module {
    pub fn public_function() {
        println!("This is public");
    }
    
    fn private_function() {
        println!("This is private");
    }
}
```

**æ¨¡å—æ–‡ä»¶ï¼š**
```rust
// src/my_module.rs
pub fn public_function() {
    println!("This is public");
}
```

### 2. å¯è§æ€§æ§åˆ¶

**pub å…³é”®å­—ï¼š**
```rust
mod outer {
    pub mod inner {
        pub fn public() {}
        fn private() {}
    }
}
```

**å¯è§æ€§è§„åˆ™ï¼š**
- é»˜è®¤ç§æœ‰
- `pub` ä½¿é¡¹å…¬å¼€
- `pub(crate)` æ¨¡å—å†…å…¬å¼€
- `pub(super)` çˆ¶æ¨¡å—å…¬å¼€

### 3. æ¨¡å—è·¯å¾„

**ç»å¯¹è·¯å¾„ï¼š**
```rust
crate::my_module::function();
```

**ç›¸å¯¹è·¯å¾„ï¼š**
```rust
self::my_module::function();
super::parent_module::function();
```

### 4. use å…³é”®å­—

**å¯¼å…¥æ¨¡å—ï¼š**
```rust
use std::collections::HashMap;
use std::io::{self, Read, Write};
use std::fmt::{Display, Debug};
```

**é‡å‘½åï¼š**
```rust
use std::fmt::Result as FmtResult;
```

**é‡æ–°å¯¼å‡ºï¼š**
```rust
pub use self::inner::function;
```

### 5. æ¨¡å—ç»„ç»‡ç»“æ„

**æ ‡å‡†ç»“æ„ï¼š**
```
src/
â”œâ”€â”€ main.rs
â”œâ”€â”€ lib.rs
â”œâ”€â”€ module1.rs
â””â”€â”€ module2/
    â”œâ”€â”€ mod.rs
    â”œâ”€â”€ submodule1.rs
    â””â”€â”€ submodule2.rs
```

### 6. æ¨¡å—æœ€ä½³å®è·µ

**ç»„ç»‡åŸåˆ™ï¼š**
- ç›¸å…³åŠŸèƒ½æ”¾åœ¨åŒä¸€æ¨¡å—
- ä½¿ç”¨æ¸…æ™°çš„æ¨¡å—å±‚æ¬¡
- åˆç†ä½¿ç”¨ `pub` æ§åˆ¶å¯è§æ€§
- é¿å…æ·±å±‚åµŒå¥—

## ğŸš€ å¿«é€Ÿå¼€å§‹

```bash
# è¿è¡Œå®Œæ•´æ•™ç¨‹
cargo run

# è¿è¡Œæµ‹è¯•
cargo test
```

## ğŸ“– å­¦ä¹ è·¯å¾„

### 1. åŸºç¡€é˜¶æ®µ
- ç†è§£æ¨¡å—æ¦‚å¿µ
- æŒæ¡åŸºæœ¬è¯­æ³•
- å­¦ä¹ å¯è§æ€§æ§åˆ¶

### 2. è¿›é˜¶é˜¶æ®µ
- æŒæ¡æ¨¡å—è·¯å¾„
- å­¦ä¹  use å…³é”®å­—
- ç†è§£æ¨¡å—ç»„ç»‡

### 3. é«˜çº§é˜¶æ®µ
- æ„å»ºå¤æ‚æ¨¡å—ç³»ç»Ÿ
- ä¼˜åŒ–æ¨¡å—ç»“æ„
- åœ¨å®é™…é¡¹ç›®ä¸­åº”ç”¨

## ğŸ’¡ æœ€ä½³å®è·µ

1. **æ¸…æ™°çš„æ¨¡å—ç»“æ„**ï¼šç›¸å…³åŠŸèƒ½ç»„ç»‡åœ¨ä¸€èµ·
2. **åˆç†çš„å¯è§æ€§**ï¼šåªå…¬å¼€å¿…è¦çš„æ¥å£
3. **ä½¿ç”¨ use ç®€åŒ–**ï¼šå‡å°‘è·¯å¾„é‡å¤
4. **é¿å…æ·±å±‚åµŒå¥—**ï¼šä¿æŒæ¨¡å—å±‚æ¬¡æ¸…æ™°
5. **æ–‡æ¡£å®Œå–„**ï¼šæ¯ä¸ªæ¨¡å—éƒ½åº”è¯¥æœ‰æ–‡æ¡£

## ğŸ” å¸¸è§é™·é˜±

1. **å¯è§æ€§é”™è¯¯**ï¼šå¿˜è®°ä½¿ç”¨ `pub`
2. **è·¯å¾„æ··æ·†**ï¼šç»å¯¹è·¯å¾„ vs ç›¸å¯¹è·¯å¾„
3. **å¾ªç¯ä¾èµ–**ï¼šæ¨¡å—ä¹‹é—´çš„å¾ªç¯å¼•ç”¨
4. **æ¨¡å—ç»„ç»‡æ··ä¹±**ï¼šç¼ºä¹æ¸…æ™°çš„æ¨¡å—ç»“æ„

## ğŸ“š ç›¸å…³èµ„æº

- [Rust Book - Modules](https://doc.rust-lang.org/book/ch07-00-managing-growing-projects-with-packages-crates-and-modules.html)
- [The Rust Reference - Modules](https://doc.rust-lang.org/reference/items/modules.html)
- [Module System Guide](https://doc.rust-lang.org/book/ch07-02-defining-modules-to-control-scope-and-privacy.html)

## ğŸ¯ æ€»ç»“

æ¨¡å—ç³»ç»Ÿæ˜¯ Rust ä»£ç ç»„ç»‡çš„åŸºç¡€ï¼ŒæŒæ¡æ¨¡å—ç³»ç»Ÿå¯ä»¥ç¼–å†™å‡ºæ¸…æ™°ã€å¯ç»´æŠ¤çš„ä»£ç ã€‚

---

**Happy Modular Programming! ğŸ¦€**

