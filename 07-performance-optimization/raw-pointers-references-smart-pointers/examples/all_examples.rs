//! # æ‰€æœ‰ç¤ºä¾‹çš„ç»¼åˆæ¼”ç¤º
//!
//! è¿™ä¸ªç¤ºä¾‹ç¨‹åºå±•ç¤ºäº†é¡¹ç›®ä¸­æ‰€æœ‰æ¨¡å—çš„æ ¸å¿ƒåŠŸèƒ½ï¼Œ
//! æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„å­¦ä¹ å’Œæ¼”ç¤ºå…¥å£ã€‚

use raw_pointers_references_smart_pointers::*;

fn main() {
    println!("ğŸ¦€ Rust æŒ‡é’ˆç±»å‹æ·±åº¦è§£æ - ç»¼åˆç¤ºä¾‹");
    println!("{}", "=".repeat(80));
    
    // 1. å¿«é€Ÿæ¼”ç¤º
    println!("\nğŸš€ 1. å¿«é€Ÿæ¼”ç¤º");
    quick_demo();
    
    // 2. å¼•ç”¨è¯¦è§£
    println!("\n\nğŸ“š 2. å¼•ç”¨å’Œå€Ÿç”¨è§„åˆ™");
    references::run_reference_examples();
    
    // 3. æ™ºèƒ½æŒ‡é’ˆè¯¦è§£
    println!("\n\nğŸ§  3. æ™ºèƒ½æŒ‡é’ˆè¯¦è§£");
    smart_pointers::run_smart_pointer_examples();
    
    // 4. è£¸æŒ‡é’ˆè¯¦è§£
    println!("\n\nâš ï¸ 4. è£¸æŒ‡é’ˆè¯¦è§£");
    raw_pointers::run_raw_pointer_examples();
    
    // 5. å¯¹æ¯”åˆ†æ
    println!("\n\nğŸ” 5. ä¸‰è€…å¯¹æ¯”åˆ†æ");
    comparison::run_all_comparisons();
    
    // 6. å®é™…åº”ç”¨æ¡ˆä¾‹
    println!("\n\nğŸ› ï¸ 6. å®é™…åº”ç”¨æ¡ˆä¾‹");
    practical_examples::run_all_examples();
    
    // 7. æ€§èƒ½åˆ†æ
    println!("\n\nâš¡ 7. æ€§èƒ½åˆ†æ");
    performance::run_all_performance_tests();
    
    // 8. å®‰å…¨æ€§åˆ†æ
    println!("\n\nğŸ”’ 8. å®‰å…¨æ€§åˆ†æ");
    safety_analysis::run_all_safety_analysis();
    
    // æ€»ç»“
    println!("\n\nğŸ‰ å­¦ä¹ æ€»ç»“");
    print_learning_summary();
}

/// æ‰“å°å­¦ä¹ æ€»ç»“
fn print_learning_summary() {
    println!("{}", "=".repeat(80));
    println!("\nğŸ¯ æ ¸å¿ƒè¦ç‚¹æ€»ç»“:");
    
    println!("\nğŸ“š å¼•ç”¨ (References):");
    println!("  â€¢ ç¼–è¯‘æ—¶å®‰å…¨ï¼Œé›¶è¿è¡Œæ—¶å¼€é”€");
    println!("  â€¢ å€Ÿç”¨æ£€æŸ¥å™¨ç¡®ä¿å†…å­˜å®‰å…¨");
    println!("  â€¢ ç”Ÿå‘½å‘¨æœŸæ³¨è§£è¡¨è¾¾å¼•ç”¨å…³ç³»");
    println!("  â€¢ é€‚ç”¨äºå‡½æ•°å‚æ•°å’Œä¸´æ—¶å€Ÿç”¨");
    
    println!("\nğŸ§  æ™ºèƒ½æŒ‡é’ˆ (Smart Pointers):");
    println!("  â€¢ è‡ªåŠ¨å†…å­˜ç®¡ç†ï¼Œè¿è¡Œæ—¶å®‰å…¨æ£€æŸ¥");
    println!("  â€¢ Box<T>: å †åˆ†é…ï¼Œé€’å½’æ•°æ®ç»“æ„");
    println!("  â€¢ Rc<T>/Arc<T>: å¼•ç”¨è®¡æ•°ï¼Œå…±äº«æ‰€æœ‰æƒ");
    println!("  â€¢ RefCell<T>/Mutex<T>: å†…éƒ¨å¯å˜æ€§");
    println!("  â€¢ é€‚ç”¨äºå¤æ‚æ‰€æœ‰æƒæ¨¡å¼");
    
    println!("\nâš ï¸ è£¸æŒ‡é’ˆ (Raw Pointers):");
    println!("  â€¢ æœ€å¤§çµæ´»æ€§ï¼Œéœ€è¦æ‰‹åŠ¨ç¡®ä¿å®‰å…¨");
    println!("  â€¢ æ”¯æŒæŒ‡é’ˆç®—æœ¯å’Œç±»å‹è½¬æ¢");
    println!("  â€¢ é€‚ç”¨äº FFIã€ç³»ç»Ÿç¼–ç¨‹ã€æ€§èƒ½å…³é”®ä»£ç ");
    println!("  â€¢ å¿…é¡»åœ¨ unsafe å—ä¸­è§£å¼•ç”¨");
    
    println!("\nğŸ¯ é€‰æ‹©æŒ‡å—:");
    println!("  1. ä¼˜å…ˆä½¿ç”¨å¼•ç”¨ - å®‰å…¨ã€é«˜æ•ˆã€ç®€å•");
    println!("  2. éœ€è¦å¤æ‚æ‰€æœ‰æƒæ—¶ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆ");
    println!("  3. ä»…åœ¨å¿…è¦æ—¶ä½¿ç”¨è£¸æŒ‡é’ˆ");
    println!("  4. å§‹ç»ˆè€ƒè™‘å®‰å…¨æ€§å’Œå¯ç»´æŠ¤æ€§");
    
    println!("\nğŸ›¡ï¸ å®‰å…¨ç¼–ç¨‹åŸåˆ™:");
    println!("  â€¢ åˆ©ç”¨ç±»å‹ç³»ç»Ÿé˜²æ­¢é”™è¯¯");
    println!("  â€¢ æœ€å°åŒ– unsafe ä»£ç èŒƒå›´");
    println!("  â€¢ ä½¿ç”¨å·¥å…·æ£€æµ‹å†…å­˜é”™è¯¯");
    println!("  â€¢ ç¼–å†™å…¨é¢çš„æµ‹è¯•");
    
    println!("\nğŸ“ˆ æ€§èƒ½è€ƒè™‘:");
    println!("  â€¢ å¼•ç”¨ â‰ˆ è£¸æŒ‡é’ˆ > æ™ºèƒ½æŒ‡é’ˆï¼ˆè®¿é—®é€Ÿåº¦ï¼‰");
    println!("  â€¢ ç¼–è¯‘å™¨ä¼˜åŒ–å¯ä»¥æ¶ˆé™¤å¤§éƒ¨åˆ†å¼€é”€");
    println!("  â€¢ é€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„æ¯”å¾®ä¼˜åŒ–æ›´é‡è¦");
    
    println!("\nğŸš€ ä¸‹ä¸€æ­¥å­¦ä¹ å»ºè®®:");
    println!("  1. æ·±å…¥å­¦ä¹  Rust å¼‚æ­¥ç¼–ç¨‹");
    println!("  2. æ¢ç´¢ Rust å®ç³»ç»Ÿ");
    println!("  3. å­¦ä¹  Rust çš„ trait ç³»ç»Ÿ");
    println!("  4. å®è·µå¤§å‹é¡¹ç›®å¼€å‘");
    println!("  5. è´¡çŒ®å¼€æº Rust é¡¹ç›®");
    
    println!("\n{}", "=".repeat(80));
    println!("ğŸ‰ æ­å–œå®Œæˆ Rust æŒ‡é’ˆç±»å‹æ·±åº¦å­¦ä¹ ï¼");
    println!("ğŸ’¡ è®°ä½ï¼šå®‰å…¨æ€§å’Œæ€§èƒ½å¯ä»¥å…¼å¾—ï¼Œè¿™å°±æ˜¯ Rust çš„é­…åŠ›ï¼");
    println!("{}", "=".repeat(80));
}